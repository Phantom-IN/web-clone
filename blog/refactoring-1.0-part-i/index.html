<!DOCTYPE html>
<html lang="en" class="no-js">
<!-- Mirrored from www.ilithya.rocks/blog/refactoring-1.0-part-i/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Jul 2023 19:30:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="robots" content="noimageindex"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Refactoring 1.0 ‚Äî Part I - ilithya [digital artist, technologist, curious human]</title><link rel="canonical" href="index.html"><meta property="og:site_name" content="ilithya [digital artist, technologist, curious human]"><meta property="og:title" content="Refactoring 1.0 ‚Äî Part I - ilithya [digital artist, technologist, curious human]"><meta property="og:type" content="website"><meta property="og:url" content="index.html"><meta property="og:image" content="../../images/codeart/low/eye-low.png"><meta property="og:image:alt" content="Eye illustration made by ilithya"><meta name="description" content="Happy freelancer with a keen interest in the arts, design and technology."><meta property="og:description" content="Happy freelancer with a keen interest in the arts, design and technology."><link rel="apple-touch-icon" href="../../images/meta/apple-touch-icon.png" type="image/png" sizes="180x180"><link rel="icon" href="../../images/meta/favicon-32.png" type="image/png" sizes="32x32"><link rel="icon" href="../../images/meta/favicon-16.png" type="image/png" sizes="16x16"><link rel="alternate" type="application/rss+xml" href="../../feed.xml"><script>document.documentElement.classList.remove('no-js');</script><style>@charset "UTF-8";/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;scroll-behavior:smooth}main{display:block}a{background-color:transparent;color:#fff;text-decoration:none}b,strong{font-weight:bolder}.u-small,small{font-size:80%}img{border-style:none;max-width:100%;height:auto;background-color:transparent;vertical-align:middle;outline:0;-ms-interpolation-mode:bicubic}details{display:block}summary{display:list-item}[hidden]{display:none}@font-face{font-family:gallaudetregular;src:url(../../fonts/gallaudetregular-webfont.eot);src:url(../../fonts/gallaudetregular-webfontd41d.eot?#iefix) format("embedded-opentype"),url(../../fonts/gallaudetregular-webfont.woff2) format("woff2"),url(../../fonts/gallaudetregular-webfont.woff) format("woff"),url(../../fonts/gallaudetregular-webfont.svg#gallaudetregular) format("svg");font-display:block;font-weight:400;font-style:normal}:root{--c_purple:#7c4de1;--c_hotpink:#f42aad;--c_blue:#4DD0E1;--c_black:#292929;--c_darkpurple:#673ab7}@media (prefers-color-scheme:dark){:root{--c_theme_bg:var(--c_black);--c_theme_bg_home:var(--c_black);--c_theme_nav_home:var(--c_blue);--c_theme_heading:var(--c_purple)}}[data-theme=blue-purple]{--c_theme_bg:var(--c_purple);--c_theme_bg_home:var(--c_blue);--c_theme_nav_home:var(--c_darkpurple);--c_theme_heading:var(--c_black)}[data-theme=hotpink]{--c_theme_bg:var(--c_hotpink);--c_theme_bg_home:var(--c_hotpink);--c_theme_nav_home:var(--c_darkpurple);--c_theme_nav_hover:var(--c_black);--c_theme_heading:var(--c_black)}[data-theme=black]{--c_theme_bg:var(--c_black);--c_theme_bg_home:var(--c_black);--c_theme_nav_home:var(--c_blue);--c_theme_heading:var(--c_purple)}.is-hidden{width:1px;height:1px;border:0;clip:rect(0,0,0,0);margin:-1px;overflow:hidden;padding:0;position:absolute}.u-galaxy-bg{background-image:radial-gradient(#fff 1px,transparent 0),radial-gradient(#fff 1px,transparent 0);background-size:52px 52px;background-position:0 15px,26px 40px}.u-fixed-cnt{width:100%;height:100%;position:fixed;top:0;right:0;left:0;bottom:0}.is-home .u-fixed-cnt{z-index:0}.u-title{font-family:gallaudetregular,"Courier New",Courier,"Lucida Sans Typewriter","Lucida Typewriter",monospace}.u-txt-right{text-align:right}.c-page__cnt li,.u-list-item{display:block;line-height:1.5;padding-left:1.30625rem;position:relative}.c-page__cnt li::before,.u-list-item::before{color:#fff;content:"√ó";position:absolute;top:0;left:0}.is-hidden,.u-space-nowrap{white-space:nowrap}.is-page,.u-flex-center-col,.u-flex-col{display:flex;flex-direction:column}.u-flex-center-col{align-items:center;justify-content:center}.u-select-none{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.u-trans-bgcolor,body.is-home{transition:background-color 1.3s ease-in}.u-trans-transf{transition:transform .2s ease-in-out}.u-trans-opacity{transition:opacity .3s ease-in-out}.u-btn-link{background-color:#fff;color:#292929;display:inline-block;font-size:.8125rem;font-weight:700;margin-bottom:1.25rem;padding:0 .3125rem}@media (hover:hover){.u-btn-link:focus,.u-btn-link:hover{background-color:var(--c_theme_nav_hover,#f42aad);color:#fff}.c-breadcrumb a:focus,.c-breadcrumb a:hover,a svg:focus,a svg:hover,header a:focus,header a:hover,ol a:focus,ol a:hover,p a:focus,p a:hover,ul a:focus,ul a:hover{color:var(--c_theme_nav_hover,#f42aad)}.c-breadcrumb a:focus,a svg:focus,header a:focus,ol a:focus,p a:focus,ul a:focus{background-color:transparent}}.is-fallback-hidden{height:100vh;display:none}.no-js .is-fallback-hidden{display:flex}*{box-sizing:border-box;margin:0;padding:0}body{width:100%;color:#fff;font-family:"Courier New",Courier,"Lucida Sans Typewriter","Lucida Typewriter",monospace;overflow-x:hidden;overflow-y:scroll;-webkit-font-smoothing:subpixel-antialiased;text-rendering:optimizeLegibility;background-color:#7c4de1;background-color:var(--c_theme_bg,#7c4de1)}body.is-home{background-color:#4dd0e1;background-color:var(--c_theme_bg_home,#4dd0e1)}body.is-fixed,body.is-home{overflow:hidden}::-moz-selection{background-color:#ff45df;color:#fff}::selection{background-color:#ff45df;color:#fff}nav a,ol a,p a,ul a{border-bottom:1px solid}.is-home a{color:var(--c_theme_nav_home,#673ab7)}@media only screen and (min-width:59.375rem) and (hover:hover){.is-page .c-header a:focus,.is-page .c-header a:hover{opacity:1}}abbr[title]{cursor:help;text-decoration:none}button,input{-webkit-appearance:none;-moz-appearance:none;appearance:none}a,button,summary{outline:0}a,button,li{-webkit-tap-highlight-color:transparent}ol,ul{list-style-type:none}h1,h2,h3,h4,h5,h6{font-weight:400}.c-page__cnt p+*,.video-player+*,details+*,details+.c-page__cnt p,figure+*,ul+*{margin-top:3.125rem}.c-page__cnt p{line-height:1.9791666667rem}.c-page__cnt p+.c-page__heading{margin-top:4.6875rem}.c-page__cnt p+pre{margin-top:1.0416666667rem}p code{background-color:rgba(255,255,255,.1);padding:0 .5rem}blockquote+figure,blockquote+p{margin-top:4.21875rem}blockquote+h2{margin-top:5.46875rem}details+.c-page__heading,ul+.c-page__heading{margin-top:4.6875rem}iframe{vertical-align:middle}.c-loading{background-color:#f42aad;background-image:url(../../images/loading.gif);background-position:-7% -7%;background-repeat:repeat;background-size:100px 92px;z-index:990;transition:transform .3s linear}.no-js .c-loading{background-image:none;display:none}@media only screen and (min-width:59.375rem){.is-page .c-header a{opacity:.9}abbr[title]{border-bottom:1px dashed}.c-page__cnt p{line-height:2.375rem}.c-loading{background-size:120px 110px}}@media (prefers-reduced-motion:reduce){.u-info-motion::before{background-color:#292929;content:"*Reduce motion is turned on in your system.";font-size:.65625rem;padding:2px 5px;position:absolute;bottom:0;left:0;z-index:30}.c-loading{background-image:url(../../images/loading-reduce-motion.gif)}}.c-preloader{color:transparent;background-image:url(../../images/preloader.svg);background-position:50% 50%;background-repeat:no-repeat;background-size:60px 60px}.c-header{right:0;bottom:0;z-index:30;padding-bottom:1.375rem}.is-demo .c-header,.is-home .c-header{padding-right:1.125rem;position:fixed}.is-page .c-header{padding-right:1.5625rem}@media only screen and (min-width:59.375rem){.c-header{padding-bottom:1.5625rem}.is-demo .c-header,.is-home .c-header{padding-right:1.5625rem}.is-page .c-header{position:fixed}}.c-header__logo{font-size:3.75rem;text-decoration:none}.is-home .c-header__logo{color:var(--c_theme_nav_home,#673ab7);opacity:0}.no-js .is-home .c-header__logo{opacity:1}.c-nav{font-size:.8125rem;margin-top:.6875rem}@media only screen and (max-width:59.3125rem){.is-page .c-nav{font-size:.875rem;margin-top:1.0625rem}.is-page .c-nav__item{background-color:var(--c_theme_bg,#7c4de1);display:inline-block}.is-page .c-nav__item+.c-nav__item{line-height:2;margin-top:.3125rem;margin-left:1.4375rem}}.c-nav__item{text-transform:lowercase}.c-nav__item+.c-nav__item{margin-top:.8125rem}[aria-current=page]{background-color:#fff;color:#f42aad;color:var(--c_theme_nav_hover,#f42aad);border-bottom:0;padding:0 .3125rem}.c-fixed-bg{background-color:#7c4de1;background-color:var(--c_theme_bg,#7c4de1);z-index:-90}.c-picker{display:none;padding-bottom:1.0416666667rem;top:.9375rem;z-index:30}.is-demo .c-picker,.is-home .c-picker{right:1.125rem;position:absolute}.is-page .c-picker{align-self:flex-end;padding-right:1.5625rem}.c-picker__item{display:inline-block;vertical-align:middle}.c-picker__item+.c-picker__item{margin-left:1.4375rem}@media only screen and (min-width:59.375rem){.is-demo .c-picker,.is-home .c-picker{right:1.5625rem}.is-page .c-picker{position:absolute;right:0}.c-picker__item+.c-picker__item{margin-left:1.3125rem}}.c-picker__btn{width:18px;height:18px;border:1px solid #fff;border-radius:50%;cursor:pointer}.c-picker__btn--01{background-color:var(--c_purple,#7c4de1)}.c-picker__btn--02{background-color:var(--c_hotpink,#f42aad)}.c-picker__btn--03{background-color:var(--c_blue,#4dd0e1)}.c-picker__btn--04{background-color:var(--c_black,#292929)}.c-picker__btn[data-active]{width:10px;height:10px;margin:0 4px}.is-home .c-picker__btn[data-active]{box-shadow:0 0 0 4px var(--c_theme_bg_home),0 0 0 5px #fff}.is-demo .c-picker__btn[data-active],.is-page .c-picker__btn[data-active]{box-shadow:0 0 0 4px var(--c_theme_bg),0 0 0 5px #fff}.c-footer{width:100%;font-size:.8125rem;padding:1.5625rem}@media only screen and (min-width:59.375rem){.c-footer{padding-top:3.125rem}}.c-footer__nav{margin-bottom:1.25rem;text-transform:lowercase}.c-footer__nav__item{display:inline-block;line-height:3;margin-right:1.25rem}.c-details[open] .c-details__sum,.c-page__heading{background-color:#292929;background-color:var(--c_theme_heading,#292929);padding:0 .625rem;transform:rotate(-2deg) translateX(-5px)}.c-page__header{background-color:#fff;overflow:hidden;position:relative}.c-page__title{color:#f1f1f1;font-size:7.5rem;line-height:.8;padding-left:1%}@media only screen and (min-width:25rem){.c-page__title{font-size:10.625rem}}@media only screen and (min-width:59.375rem){.c-page__title{font-size:16.25rem}}.c-page__subtitle{color:#7c4de1;color:var(--c_theme_bg,#7c4de1);font-size:3.5rem;line-height:1;position:absolute;bottom:.390625rem;left:1.3020833333rem}@media only screen and (min-width:25rem){.c-page__subtitle{font-size:5rem}}@media only screen and (min-width:59.375rem){.c-page__subtitle{font-size:6.875rem;left:1.5625rem}}.c-page__heading{display:inline-block;font-size:1.1875rem;line-height:1.8269230769rem;margin-bottom:1.25rem;padding:.375rem .75rem .3125rem}.c-page__icon-link{width:.875rem;margin-top:.25rem;margin-left:.5654761905rem;vertical-align:top}.c-page__cnt{width:100%;max-width:37.5rem;height:100%;min-height:calc(100vh - 365px);font-size:1.1875rem;padding:1.5625rem}.c-page__cnt__item+*{margin-top:2.375rem}.c-page__cnt__item-title{font-size:inherit}.c-page__cnt ul{margin-top:.625rem}.c-page__cnt li{line-height:1.8}.c-page__cnt li::before{top:2px}.c-page__cnt li a{line-height:2}.c-page__block+*{margin-top:4.6875rem}.c-details[open] .c-details__sum{color:#fff;display:inline-block;margin-bottom:.625rem}.c-details[open] .c-details__sum::marker{display:none}.c-details__sum{border:none;cursor:pointer;line-height:1.9791666667rem;position:relative}.c-details__sum::marker{font-size:70%;margin-left:2px;margin-right:.625rem;margin-bottom:1px}.c-fig{width:100%;max-width:400px;display:block;position:relative}.c-fig+.c-fig{margin-top:1.5625rem}@media only screen and (min-width:25rem){.c-fig+.c-fig{margin-top:3.125rem}}.c-fig:nth-child(even){max-width:275px;align-self:flex-end}.c-fig:nth-child(even) .c-fig__title{margin-top:115%}.c-fig:nth-child(even) .c-fig__tech,.c-fig:nth-child(even) .c-fig__title{align-self:flex-start}.c-fig__desc{width:100%;height:100%;overflow:hidden;padding:0 1.25rem;position:absolute;top:0;left:0}@media (hover:hover){.is-home a:focus,.is-home a:hover{color:#fff}.c-picker__btn:focus,.c-picker__btn:hover{box-shadow:0 0 0 1px var(--c_theme_bg),inset 0 0 0 4px #fff}.c-details__sum:focus,.c-details__sum:hover{color:var(--c_theme_nav_hover,#f42aad)}.c-fig:nth-child(even) .c-fig__title{margin-top:0}.c-fig:nth-child(even) .c-fig__tech,.c-fig:nth-child(even) .c-fig__title{align-self:center}.c-fig__desc{background-color:rgba(99,100,100,.9);opacity:0}a:focus .c-fig__desc,a:hover .c-fig__desc{opacity:1}}.c-fig__desc>*{padding:0 .3125rem}.c-fig__title{align-self:flex-end;background-color:#673ab7;font-size:.8125rem;margin-top:40%;margin-bottom:1.1875rem;transform:rotate(-10deg)}@media (hover:hover){.c-fig__title{font-size:1rem;align-self:center;margin-top:0;transform:translateY(-1000%) rotate(-10deg)}a:focus .c-fig__title,a:hover .c-fig__title{transform:translateY(0) rotate(-10deg)}}.c-fig__tech{align-self:flex-end;background-color:#292929;font-size:.75rem}@media (hover:hover){.c-fig__tech{align-self:center;font-size:.8125rem;transform:translateY(1000%)}a:focus .c-fig__tech,a:hover .c-fig__tech{transform:translateY(0)}}.video-player{width:100%}.no-js .video-player{display:none}@media only screen and (min-width:59.375rem){.c-page__cnt li{line-height:2}.c-page__cnt li a{line-height:2.2}.video-player{width:640px}}@media only screen and (max-width:59.3125rem){.video-player{padding-top:56.25%;position:relative}.video-player>iframe{width:100%;height:100%;position:absolute;top:0;left:0}}pre{width:100%;background-color:rgba(255,255,255,.1);line-height:1.6;margin-bottom:4.6875rem;padding:1rem 1.375rem;overflow-x:auto;overflow-y:hidden;scrollbar-color:rgba(241,241,241,.3) rgba(255,255,255,.3)}pre::-webkit-scrollbar{height:9px;background-color:rgba(241,241,241,.3)}pre::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,.3)}code{font-size:82%;font-family:"Courier New",Courier,"Lucida Sans Typewriter","Lucida Typewriter",monospace}blockquote{background-color:rgba(255,255,255,.1);font-style:italic;position:relative;padding:2.5rem 2.5rem 2.5rem 3.75rem}blockquote p:after,blockquote p:before{font-family:TimesNewRoman,"Times New Roman",Times,Baskerville,Georgia,serif;opacity:.5;position:absolute}blockquote p:first-child:before{content:"‚Äú";font-size:45px;left:25px}blockquote p:last-child:after{content:"‚Äù";font-size:44px}.c-caption{display:block;font-size:.8125rem;line-height:1.1875rem;margin-top:.59375rem;margin-bottom:1.1875rem}.c-caption .u-small,.c-caption small{font-style:italic}.c-breadcrumb{display:block;margin-bottom:1.5625rem}.c-badge{display:flex;margin-top:1.5625rem;margin-bottom:1.5625rem;padding:1.5625rem}.c-badge__box{border:1px dashed;line-height:2.375rem;padding:.625rem 1.25rem .875rem}.c-badge__box a{border-bottom:none}.m-wrapper{width:100%;max-width:78.75rem;background-color:#7c4de1;background-color:var(--c_theme_bg,#7c4de1);position:relative;z-index:0;align-self:flex-end}</style></head><body id="page-top" class="u-galaxy-bg is-page"><div id="js-loader" class="c-loading u-fixed-cnt"></div><header role="banner" class="c-header u-txt-right"><a href="../../index.html" id="js-logo" class="c-header__logo u-title" aria-label="ilithya [digital artist, technologist, curious human] - home">ilithya</a><nav class="c-nav" aria-label="Primary"><ul><li class="c-nav__item"><a href="../../anydayshaders/index.html"><strong>#anydayshaders</strong></a></li><li class="c-nav__item"><a href="../../installations/index.html"><strong>Installations</strong></a></li><li class="c-nav__item"><a href="../../performances/index.html"><strong>Performances</strong></a></li><li class="c-nav__item"><a href="../../visualizers/index.html"><strong>Visualizers</strong></a></li><li class="c-nav__item"><a href="../../aiart/index.html"><strong>AI art</strong></a></li><li class="c-nav__item"><a href="../../about/index.html"><strong>About</strong></a></li></ul></nav></header><div id="js-picker" class="c-picker"><div role="status" class="is-hidden">Current theme color is <span id="js-picker-status"></span>.</div><ul><li class="c-picker__item"><div data-theme="blue-purple" class="c-picker__btn c-picker__btn--01"><input type="radio" id="blue-purple" name="theme" value="blue-purple" class="is-hidden" checked="checked"> <label for="blue-purple" class="is-hidden">Blue/Purple theme</label></div></li><li class="c-picker__item"><div data-theme="hotpink" class="c-picker__btn c-picker__btn--02"><input type="radio" id="hotpink" name="theme" value="hotpink" class="is-hidden"> <label for="hotpink" class="is-hidden">Hotpink theme</label></div></li><li class="c-picker__item"><div data-theme="black" class="c-picker__btn c-picker__btn--04"><input type="radio" id="black" name="theme" value="black" class="is-hidden"> <label for="black" class="is-hidden">Black theme</label></div></li></ul></div><main tabindex="-1" class="m-wrapper"><article class="c-page"><header class="c-page__header"><h2 class="c-page__subtitle u-space-nowrap">blog</h2><span class="u-title c-page__title u-space-nowrap u-select-none" aria-hidden="true">blog</span></header><div class="c-page__cnt"><span class="c-breadcrumb u-small"><a href="../../index.html">home</a> <span class="u-small" aria-label="Breadcrumb separator">&gt;</span> <a href="../index.html">blog</a> <span class="u-small" aria-label="Breadcrumb separator">&gt;</span></span><h1 class="c-page__heading" id="refactoring-1.0-part-i">Refactoring 1.0 ‚Äî Part I<a href="#refactoring-1.0-part-i" class="heading-permalink"><span class="is-hidden"> permalink</span><svg class="c-page__icon-link" fill="currentColor" aria-hidden="true" focusable="false" width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h1><p class="u-small"><time datetime="2020-05-30T00:00:00.000Z">May 30, 2020</time> ‚Äî 7 min read</p><p>This is the first part of a series of posts about my recent refactoring in this site.</p><p>To skip to the second part, <a href="../refactoring-01-p2/index.html">go here</a>.</p><p>I built this site for myself at the end of 2019 in about 1.5 weeks. I'm talking about landing the final concept, designing in the browser, making assets, coding it and testing.</p><p>When I was done with it I thought of this site as a work-in-progress, since there were features I wanted to double-check in older browsers and revisit my code.</p><p>Furthermore after some feedback, I thought the <abbr title="User Experience">UX</abbr> in certain places could be improved.</p><p>The big response and all the good comments I received was surprising. Not that I didn't think my site was very cool, but sometimes what we think is cool is not perceived the same by everybody else.</p><p>I was distracted by the attention and making code art is always more fun, thus a decent refactoring happened until recently.</p><p>I figured I'd share my refactoring ride to give an update about the site's changes, and in case it helps somebody else looking for similar solutions to their site.</p><p>I am sure there are many other ways I could have tackled the improvements shown in this refactoring. But to date, these were the choices I made matching my current experience and preferences.</p><p>I can imagine another refactoring happening again in the future to enhance any of these improvements or add new features.</p><p>As of this writing, I already have a new list on my mind <em>[oh, oh]</em>. But I need to stop myself at some point for my own sake.</p><p>My refactoring list looked like this:</p><ul><li>Add a preloader to lazy-load images</li><li>Add a scroll-to-top button</li><li>Add hotpink theme selection on start page</li><li>Fix <abbr title="Internet Explorer">IE</abbr> 10-11 and older browsers bugs</li><li>Fix <abbr title="Microsoft">MS</abbr> Edge bug</li><li>Improve <abbr title="No JavaScript">no-js</abbr> and older browsers <abbr title="User Experience">UX</abbr></li><li>Improve reduce motion <abbr title="User Experience">UX</abbr> on start page</li><li>Improve start page performance</li><li>Improve the preloader <abbr title="User Experience">UX</abbr> in content pages</li><li>Refactor theme picker <abbr title="Hypertext Markup Language">HTML</abbr> architecture</li></ul><p>If you're interested in reading each topic in detail, keep on scrolling down and follow the series.</p><p>By the time I finished writing this post <em>[only took me a month]</em> it was a 25 <abbr title="minutes">min</abbr> read.</p><p>When it comes to reading posts I have the attention span of a fish, hence I decided to present the full writing as a series of posts.</p><p>Happy reading!</p><h2 class="c-page__heading" id="add-a-preloader-to-lazy-load-images">Add a preloader to lazy-load images<a href="#add-a-preloader-to-lazy-load-images" class="heading-permalink"><span class="is-hidden"> permalink</span><svg class="c-page__icon-link" fill="currentColor" aria-hidden="true" focusable="false" width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h2><p>This was part of improving the overall <abbr title="User Experience">UX</abbr> in content pages. Since the launch of this site, I am lazy-loading all images.</p><p>I'm using the native lazy-loading <abbr title="Hypertext Markup Language">HTML</abbr> attribute <code>loading="lazy"</code> inside the <code>img</code> elements, and have a <abbr title="JavaScript">JS</abbr> library as a fallback for browsers without support.</p><p>If the visitor's network was slow, they were experiencing a blank section on the page before the images were loaded.</p><p>To optimize such experience, I added a small <abbr title="Scalable Vector Graphics">SVG</abbr> preloader of four dots animated, which I didn't create, but instead got from a <a href="https://icons8.com/preloaders/" target="_blank" rel="external noopener noreferrer" title="Preloaders.net">preloaders' site</a>.</p><p>I created a new component class to add the preloader graphic via <abbr title="Cascading Style Sheets">CSS</abbr>.</p><pre class="language-css"><code class="language-css"><span class="token selector">.c-preloader</span> <span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'/.../preloader.svg'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
  <span class="token comment">/* More CSS */</span>
<span class="token punctuation">}</span></code></pre><p>And I added such preloader class to all <code>img</code> tags that were lazy-loading.</p><pre class="language-html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span> <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lazy<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c-preloader<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre><p>Today, if the visitor has a slow network while loading images in any of my content pages, they know some content is coming wherever the four dots are dancing.</p><p>References:</p><ul><li><a href="https://web.dev/native-lazy-loading/" target="_blank" rel="external noopener noreferrer" title="Native lazy-loading for the web">Native lazy-loading</a></li><li><a href="https://addyosmani.com/blog/lazy-loading/" target="_blank" rel="external noopener noreferrer" title="Native image lazy-loading for the web!">Native Image lazy-loading</a></li><li><a href="http://afarkas.github.io/lazysizes/" target="_blank" rel="external noopener noreferrer">lazysizes Library</a></li></ul><h2 class="c-page__heading" id="add-a-scroll-to-top-button">Add a scroll-to-top button<a href="#add-a-scroll-to-top-button" class="heading-permalink"><span class="is-hidden"> permalink</span><svg class="c-page__icon-link" fill="currentColor" aria-hidden="true" focusable="false" width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h2><p>This was another topic to improve the <abbr title="User Experience">UX</abbr> in content pages. I wanted to do something simple without <abbr title="JavaScript">JS</abbr>.</p><p>I created an anchor link targeting an <code>id</code> on the <code>body</code> tag.</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page-top<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#page-top<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>top<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><p>And added a smooth scroll effect via <abbr title="Cascading Style Sheets">CSS</abbr> for modern browsers supporting the feature.</p><pre class="language-css"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token property">scroll-behavior</span><span class="token punctuation">:</span> smooth<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Browsers without support will jump to the top of the page instead of scrolling back smoothly, and that's ok.</p><p>References:</p><ul><li><a href="https://css-tricks.com/almanac/properties/s/scroll-behavior/" target="_blank" rel="external noopener noreferrer">scroll-behavior</a></li></ul><h2 class="c-page__heading" id="add-hotpink-theme-selection-on-start-page">Add hotpink theme selection on start page<a href="#add-hotpink-theme-selection-on-start-page" class="heading-permalink"><span class="is-hidden"> permalink</span><svg class="c-page__icon-link" fill="currentColor" aria-hidden="true" focusable="false" width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h2><p>One particular experience many people had told me they loved from this site is playing with the 3D intro.</p><p>When I created my site and decided to have a color theme picker, I thought of not giving the user too many choices to start with, but only after they decided to explore further other content.</p><p>Now, I changed my mind. :)</p><p>If users love spending time on the intro page, well, why not giving them one more thing to play with? And that is interacting with the floating 3D text and objects over a bright hotpink colored sky <em>[yep, it's a kind of vibrant blinding color]</em>.</p><p>Coding-wise I didn't have to do much to make this happen since I already had the component written.</p><p>I added the proper <abbr title="Hypertext Markup Language">HTML</abbr> tags with the corresponding <abbr title="Cascading Style Sheets">CSS</abbr> classes and <em>voil√†</em>!</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c-picker__item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotpink<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>c-picker__btn c-picker__btn--02<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotpink<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>theme<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotpink<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>is-hidden<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hotpink<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>is-hidden<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hotpink theme<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></code></pre><p>Haven't tried it yet? Go back to <a href="../../index.html">my start page</a>.</p></div><aside class="c-badge"><ul class="c-badge__box"><li><a href="https://ko-fi.com/ilithya/" target="_blank" rel="external noopener noreferrer">üçµ Support me on Ko-fi</a></li><li><a href="https://twitter.com/share?text=%f0%9f%99%82%20Refactoring%201.0%20%E2%80%94%20Part%20I%0D%0A%0D%0A&amp;url=https://ilithya.rocks/blog/refactoring-1.0-part-i/&amp;via=ilithya_rocks" target="_blank" rel="external noopener noreferrer" data-text="üôÇ Refactoring 1.0 ‚Äî Part I - ilithya's blog" data-via="ilithya_rocks">ü¶ú Share it on Twitter</a></li></ul></aside></article></main><footer role="contentinfo" class="c-footer m-wrapper"><a href="#page-top" title="Back to top" class="u-btn-link">top ‚ñ≤</a><nav class="c-footer__nav u-small" aria-label="Secondary"><ul><li class="c-footer__nav__item"><a href="../index.html">Blog</a></li><li class="c-footer__nav__item"><a href="../../codeart/index.html">Code Art</a></li><li class="c-footer__nav__item"><a href="https://ko-fi.com/ilithya/" target="_blank" rel="external noopener noreferrer" title="get me a matcha latte">ko-fi</a></li><li class="c-footer__nav__item"><a href="https://cottonbureau.com/people/ilithya/" target="_blank" rel="external noopener noreferrer" title="cottonbureau phone cases, hoodies, tees">Swag</a></li><li class="c-footer__nav__item"><a href="https://ilithya.substack.com/?showWelcome=true" target="_blank" rel="external noopener noreferrer" title="my tiny newsletter">Newsletter</a></li><li class="c-footer__nav__item"><a href="https://www.curiouslyminded.xyz/" target="_blank" rel="external noopener noreferrer" title="ongoing shader collab">curiouslyminded</a></li><li class="c-footer__nav__item"><a href="../../imprint/index.html">Imprint</a></li><li class="c-footer__nav__item"><a href="../../feed.xml">RSS</a></li></ul></nav><p><small>All rights reserved. By ilithya ¬© 2023.</small></p></footer><div class="c-fixed-bg u-galaxy-bg u-fixed-cnt"></div><script src="../../js/bundle-page.min.js" defer="defer"></script><script>!function(){"use strict";"serviceWorker"in navigator&&window.addEventListener("load",(function(){return navigator.serviceWorker.register("../../service-worker.js")}))}();</script><script>var _paq = window._paq = window._paq || [];
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="http://www.ilithya.net/analytics/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '1']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();</script></body>
<!-- Mirrored from www.ilithya.rocks/blog/refactoring-1.0-part-i/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Jul 2023 19:30:33 GMT -->
</html>